<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25" zv="Cache for Windows (x86-64) 2015.1 (Build 283U)" ts="2014-12-02 18:15:40">
<Class name="FAQ.Installer">
<Description>
%Installer Manifest FAQ.Installer</Description>
<IncludeCode>%occInclude</IncludeCode>
<TimeChanged>63523,62416.980934</TimeChanged>
<TimeCreated>63393,40515.581067</TimeCreated>

<XData name="FAQManifest">
<Description>
マニフェスト定義.</Description>
<XMLNamespace>INSTALLER</XMLNamespace>
<Data><![CDATA[
<Manifest>

<Namespace Name="${NAMESPACE}" 
           Create="no">
<CSPApplication 
    Url="${CSPUrl}"
    Description=""
    Directory="${CSPDirectory}"
    Resource=""
    Grant="%DB_%DEFAULT"
    Recurse="true"
    LoginClass=""
    CookiePath="${CSPUrl}"
    AuthenticationMethods="${AuthenticationMethods}"
     CustomErrorPage="${CustomErrorPage}"/>
<If Condition='$L("${ClassFileName}")>0'>
<Invoke Class="%SYSTEM.OBJ" Method="Load" CheckStatus="0" Return="RetVal"> 
    <Arg Value="${ClassFileName}"/>
    <Arg Value="ck"/>
</Invoke>
</If>
<If Condition='$L("${GlobalFileName}")>0'>
<Invoke Class="%SYSTEM.OBJ" Method="Load" CheckStatus="0" Return="RetVal"> 
    <Arg Value="${GlobalFileName}"/>
</Invoke>
</If>
<Invoke Class="KB.Text" Method="ExcludeCommonTerms" CheckStatus="0" Return="RetVal"> 
    <Arg Value="100"/>
</Invoke>
<Invoke Class="KB.Topic" Method="%BuildIndices" CheckStatus="0" Return="RetVal"> 
</Invoke>
<Invoke Class="KB.Utility" Method="CreateUsersVoice" CheckStatus="0" Return="RetVal"> 
</Invoke>
<Invoke Class="KB.Setup" Method="masterSetup" CheckStatus="0" Return="RetVal"> 
</Invoke>
<Invoke Class="KB.Setup" Method="setConigParams" CheckStatus="0" Return="RetVal"> 
</Invoke>
<If Condition='$L("${ResetTopicSubID}")>0'>
<Invoke Class="KB.Topic" Method="ResetTopicSubID" CheckStatus="0" Return="RetVal"> 
</Invoke>
</If>
</Namespace>
</Manifest>
]]></Data>
</XData>

<Method name="setup">
<Description>
これは XGL により生成されたメソッド・ジェネレーターです。.</Description>
<Internal>1</Internal>
<ClassMethod>1</ClassMethod>
<CodeMode>objectgenerator</CodeMode>
<FormalSpec><![CDATA[&pVars,pLogLevel:%Integer=3,pInstaller:%Installer.Installer,pLogger:%Installer.AbstractLogger]]></FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
 #; XGL ドキュメントでこのメソッドのコードを生成する.
 Quit ##class(%Installer.Manifest).%Generate(%compiledclass, %code, "FAQManifest")
]]></Implementation>
</Method>

<Method name="runInstaller">
<ClassMethod>1</ClassMethod>
<Implementation><![CDATA[
	//以下は毎回インストールの条件により書き換え必要
	
	//set vars("ClassFileName") = "F:\test\faq\FAQAllFunc_20140725.xml"
	set vars("ClassFileName") = "" //プログラムの変更がない場合
	//set vars("GlobalFileName") = "F:\test\faq\Topic_20140725.xml"
	set vars("GlobalFileName") = ""  //データの変更がない場合
	set vars("ResetTopicSubID") = "" //TopicSubIDをリセットする場合。通常は必要ない

    // テスト環境
	set vars("NAMESPACE") = "USER" //test
	set vars("CSPUrl") = "/csp/user" 
	set vars("CSPDirectory") = "c:\InterSystems/Ensemble/csp/user/" 
	set vars("CustomErrorPage") = "/csp/user/FAQ.FAQError.cls" 
	set vars("AuthenticationMethods") = "64"  //認証なし 

    //  JPNFILESRV用
    /*
	set vars("NAMESPACE") = "KNOWLEDGE"　//JPNFILESRV用
	set vars("CSPUrl") = "/csp/knowledge" 
	set vars("CSPDirectory") = "c:\InterSystems/Ensemble/csp/knowledge/" 
	set vars("CustomErrorPage") = "/csp/knowledge/FAQ.FAQError.cls" 
	set vars("AuthenticationMethods") = "32" //パスワード認証
    */
    
    //  本番用
    /*
	set vars("NAMESPACE") = "FAQ"　　　　//Cloud用
	set vars("CSPUrl") = "/csp/faq" 
	set vars("CSPDirectory") = "/usr/InterSystems/Cache20122/csp/faq/" 
	set vars("CustomErrorPage") = "/csp/faq/FAQ.FAQError.cls" 
	set vars("AuthenticationMethods") = "64"  //認証なし
	*/ 
	do ..setup(.vars,3)
]]></Implementation>
</Method>

<Method name="getVersion">
<ClassMethod>1</ClassMethod>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	quit "1.0.002"
]]></Implementation>
</Method>
</Class>
</Export>
