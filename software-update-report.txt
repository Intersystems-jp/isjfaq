修正ID		HS001

日付		2014/6/4		

内容

参考になりましたかのボタンを押すと内部サーバエラー発生

修正内容


修正モジュール

result.csp

------------------------------------------------------------------------------------
修正ID		HS002

日付		2014/7/25		

内容

横断検索の実装

修正内容



修正モジュール

FAQ.FAQTopicSeachBodyTemplate.cls

------------------------------------------------------------------------------------
修正ID		HS003

日付		2014/7/25		

内容

TopicIDの５桁化

修正内容

TopicIDを計算フィールドに変更
（データのコンバージョンを避けるため）


修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------
修正ID		HS004

日付		2014/7/25		

内容

トピックの相互リンクの実装

修正内容

参照トピックがある場合に、そのトピックにも逆参照を設定する
既に登録済の場合には、設定しない

修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------
修正ID		HS005

日付		2014/7/25		

内容

エラー処理のリファイン

修正内容

Try Catchで例外を発生させるように変更
Catch処理内でエラー情報を保存するようにした。

修正モジュール

FAQ.Error.cls
KB.Topic.cls
FAQ.FAQError.cls

------------------------------------------------------------------------------------
修正ID		HS006

日付		2014/7/25		

内容

製品種別のマクロ化

修正内容

$$$GENERAL
$$$CACHE
$$$ENSEMBLE

修正モジュール

KB.Topic.cls
FAQ.FAQTopicSearchBodyTemplate.cls
FAQ.inc

------------------------------------------------------------------------------------
修正ID		HS007

日付		2014/7/28		

内容

トピックの相互リンクのマイナーバグフィックス

修正内容


修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------
修正ID		HS008

日付		2014/7/28		

内容

safariで初回表示時にhypereventエラーが発生する問題を修正

修正内容

chromeと動きを合わせることで解決

修正モジュール

FAQ.FAQTopicSearch.cls

------------------------------------------------------------------------------------
修正ID		HS009

日付		2014/7/28		

内容

インストーラの実装

修正内容

%Installer　Manifestを使った実装

修正モジュール

FAQ.FAQTopicSearch.cls

------------------------------------------------------------------------------------
修正ID		HS010

日付		2014/7/28		

内容

UnitTestの実装

修正内容

%UnitTestフレームワークを使った実装

修正モジュール

FAQ.Test.cls
FAQ.UnitTests.cls

------------------------------------------------------------------------------------
修正ID		HS011

日付		2014/8/18		

内容

全文検索方式の変更

修正内容

n-grum式からmecabによる分かち書き方式に変更

修正モジュール

KB.Topic.cls
KB.Text.cls
Text.MecabJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS012

日付		2014/8/18		

内容

相互リンクの削除時の相手先リンクの削除

修正内容

相互リンクを％OnAfterSave()の所で行っていたが、そうすると、削除時に循環処理が発生してしまい
うまくいかないことが判明したので、complete.cspで最終チェックするように変更

修正モジュール

KB.Topic.cls
complete.csp

------------------------------------------------------------------------------------
修正ID		HS013

日付		2014/8/18		

内容

バージョン番号の導入

修正内容

新バージョンをリリース毎に更新するようにした

修正モジュール

KB.Utility.cls
howto.csp
howtoforeditors.csp

------------------------------------------------------------------------------------
修正ID		HS014

日付		2014/8/18		

内容

詳細表示の際に製品区分がわかるように製品アイコンをタイトルの前に表示

修正内容


修正モジュール

result.csp
InterSystemsLogo.gif
cachecube.png
ensemblecube.png

------------------------------------------------------------------------------------
修正ID		HS015

日付		2014/8/21		

内容

新規作成、編集画面内でタブが使えない

修正内容

インターネットで入手したjavascriptを追加

修正モジュール

new.csp
edit.csp

------------------------------------------------------------------------------------
修正ID		HS016

日付		2014/8/21		

内容

新規作成画面でFFおよびIEでスクロールが出ない


修正内容

window.openの際にscrollbars=1を追加

scrollbars=yesではIE,FFで動作しなかった

修正モジュール

howtoforeditors.csp

------------------------------------------------------------------------------------
修正ID		HS017

日付		2014/8/21		

内容

タブを切り替えるとIE,FFでは再度クエリーが実行されて初期化されてしまう。


修正内容


OnresizeHandlerでzenPage.setTabSize()を実行するように変更

tabGroupのonShowTabメソッドでは実行しないように変更

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls

------------------------------------------------------------------------------------
修正ID		HS018

日付		2014/8/21		

内容

編集用タグの大文字小文字の制限を緩和

修正内容

UPPERに変換後、チェック

修正モジュール

result.csp

------------------------------------------------------------------------------------
修正ID		HS019

日付		2014/8/25		

内容

resizeの際に前回の検索条件がリセットされる問題への対応

修正内容

調査によれば、最近のブラウザはIEも含めてsetBodySize()がちゃんと効くようである。

IEの古いバージョンに関しては不確かなため、IE9より前のものは、旧来の動きとする

修正モジュール

FAQ.FAQTopicSearch.cls

------------------------------------------------------------------------------------
修正ID		HS020

日付		2014/8/26		

内容

検索結果の表示をTOPに変更

修正内容

検索ペインのvgroupのvalign=topを設定する

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls
継承しているクラスのリコンパイル必要

------------------------------------------------------------------------------------
修正ID		HS021

日付		2014/10/07		

内容

一般タブに全検索のチェックボックスを表示しないように変更

修正内容

%OnAfterCreatePageにて全検索のチェックボックスのenclosingStypeにDisplay:noneを設定

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls
継承しているクラスのリコンパイル必要


------------------------------------------------------------------------------------
修正ID		HS022

日付		2014/10/07		

内容

初期画面上の操作ヘルプに全検索のチェックボックスの説明を追加

修正内容

説明テキストの追加

修正モジュール

howto.csp


------------------------------------------------------------------------------------
修正ID		HS023

日付		2014/12/02		

内容

初期データ生成処理に抜けあり

修正内容

masterSetup()に

do ##class(KB.Product).Init()を追加

修正モジュール

KB.Setup.cls


------------------------------------------------------------------------------------
修正ID		HS024

日付		2014/12/02		

内容

初期データ生成処理に抜けあり

修正内容

setConfigParams()に

do ##class(KB.Config).setFileNameAttached()を追加

Installerに

##class(KB.Setup).setConfigParams()の呼出しを追加


修正モジュール

KB.Setup.cls
FAQ.Installer.cls


------------------------------------------------------------------------------------
修正ID		HS025

日付		2014/12/09		

内容

Typo


修正内容

##class(KB.Setup).setConfigParams()の呼出しを追加


修正モジュール

FAQ.Installer.cls

------------------------------------------------------------------------------------
修正ID		HS026

日付		2015/02/25		

内容

カタカナ語の単語分解がmecabでは想定した動きになっていないので、予め登録したカタカナ単語
に関して分解後、mecabに渡すように変更
・に関しても事前にスペースに変更


修正内容

^KatakanaWordsというグローバルを生成
第一ノードにカタカナの単語が入る


修正モジュール

Text.MecabaJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS027

日付		2015/02/25		

内容

HS026の実装に際し、カタカナ語がどの様に分解されているかを調べるクラスメソッドを追加


修正内容

FindKatakanaKeywordsという名前のクラスメソッドを追加


修正モジュール

KB.Utility


------------------------------------------------------------------------------------
修正ID		HS028

日付		2015/02/25		

内容

HS026の変更に伴い、インストーラーの変更が必要になった


修正内容

カタカナ語辞書グローバルのインストール

修正モジュール

FAQ.Installer


------------------------------------------------------------------------------------
修正ID		HS029

日付		2015/03/19		

内容

HS026の処理効率改善
検索キーワードを解析する際に、辞書登録されたカタカナ語が含まれるかどうか確認するように変更


修正内容

SpritKatakanaKeyWordという名前のクラスメソッドを追加


修正モジュール

Text.MecabaJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS030

日付		2015/03/19		

内容

HS026,HS029に関連するunittestの実装


修正内容

TestFindKatakanaWord、TestSpritKatakanaKeyWordという名前のクラスメソッドを追加


修正モジュール

FAQ.UnitTests.cls

------------------------------------------------------------------------------------
修正ID		HS031

日付		2015/04/13		

内容

HS029のバグ修正



修正内容

登録済みカタカナの逐次変換機能が動作していなかった。


修正モジュール

Text.MecabaJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS032

日付		2015/04/14		

内容

UsersVoiceの本番環境setup(CreateUsersVoice)にバグがあり、UsersVoiceとTopic情報に不整合が発生した。

Install時に行うのではなく、参照時に存在しない場合にUsersVoiceを作成するように変更する。


修正内容

InstallerからCreateUsersVoiceの呼出し処理を削除
UsersVoiceの更新時にUsersVoiceが存在しなければ、新規インスタンスを生成する。


修正モジュール

FAQ.Installer.cls
result.CSP
KB.Utility.cls（使わないので修正の必要がないが、CreateUsersVoiceのバグもついでに修正）


------------------------------------------------------------------------------------
修正ID		HS033

日付		2015/06/03		

内容

Ensembleのタブではデフォルトでコアテクノロジの内容も含めて検索するように仕様変更


修正内容

チェックボックスのテキストを全検索からコアテクノロジを含むに変更
Cacheタブ上からそのチェックボックスを見えないように変更
Ensembleタブ上ではそのチェックボックスのデフォルトを真にセット
%pageの対応するプロパティもページ作成後に真にセット

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls
howto.CSP

------------------------------------------------------------------------------------
修正ID		HS034

日付		2015/06/24		

内容

HS033の変更によるバグ修正
一般、Cacheタブ上で再度検索を実施すると全てのものが検索対象となってしまう。


修正内容

一般、Cacheタブ上ではそのチェックボックスのデフォルトを偽にセット


修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls

------------------------------------------------------------------------------------
修正ID		HS035

日付		2017/01/26		

内容

検索条件の指定で月が14か月分選択可能となっている

および非活動ユーザー名chika,Uematsuを削除


修正内容

ループ回数を14から12に変更


修正モジュール


history.csp

------------------------------------------------------------------------------------
修正ID		HS036

日付		2017/02/20		

内容

全文検索のインデックス生成方法をMecabの形態素解析に基づく分かち書きからiKnowのiFindを使う方法に変更

修正内容

以下のようなクエリー構文に変更

select ID,Title,Description from KB.Topic where %ID %FIND search_index(


修正モジュール

FAQTopicQueryTemplate.cls
FAQTopicSearchBodyTemplate

------------------------------------------------------------------------------------
修正ID		HS037

日付			2017/02/21

内容

　ソースの管理をAtelierに変更するに伴い、UDL形式のクラス単位でのソースロード方式に変更
　iFindに変更したため、インストラー上でmecab関連のセットアップが不要になる

以下のインストーラー処理を削除

<If Condition='$L("${KatakanaWordsFileName}")>0'>
<Invoke Class="%SYSTEM.OBJ" Method="Load" CheckStatus="0" Return="RetVal"> 
    <Arg Value="${KatakanaWordsFileName}"/>
</Invoke>
</If>
<Invoke Class="KB.Text" Method="ExcludeCommonTerms" CheckStatus="0" Return="RetVal"> 
    <Arg Value="100"/>
</Invoke>

修正モジュール

FAQ.Installer.cls
KB.Setup.cls
KB.Config.cls

------------------------------------------------------------------------------------
修正ID		HS038

日付			2017/03/16

内容

ロケールをjpuwに強制的にする。
CSPファイルをUTF8でロードするために必要

修正モジュール

FAQ.Installer.cls


------------------------------------------------------------------------------------

修正ID		HS039

日付			2017/03/16

内容

Ｍｅcab関連のユニットテストを削除
検索手法をiFindに変更したため

修正モジュール

FAQ.UnitTest.cls

------------------------------------------------------------------------------------

修正ID		HS040

日付			2017/03/16

内容

クラスをUDL形式でインストールするように変更した結果、イメージファイルやスタイルシートはロード対象外となったため、別途それらのファイル用のインポート用XMLファイルを作成
（初期設定時のみ使用）

修正モジュール

faqimages.xml
