修正ID		HS001

日付		2014/6/4		

内容

参考になりましたかのボタンを押すと内部サーバエラー発生

修正内容


修正モジュール

result.csp

------------------------------------------------------------------------------------
修正ID		HS002

日付		2014/7/25		

内容

横断検索の実装

修正内容



修正モジュール

FAQ.FAQTopicSeachBodyTemplate.cls

------------------------------------------------------------------------------------
修正ID		HS003

日付		2014/7/25		

内容

TopicIDの５桁化

修正内容

TopicIDを計算フィールドに変更
（データのコンバージョンを避けるため）


修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------
修正ID		HS004

日付		2014/7/25		

内容

トピックの相互リンクの実装

修正内容

参照トピックがある場合に、そのトピックにも逆参照を設定する
既に登録済の場合には、設定しない

修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------
修正ID		HS005

日付		2014/7/25		

内容

エラー処理のリファイン

修正内容

Try Catchで例外を発生させるように変更
Catch処理内でエラー情報を保存するようにした。

修正モジュール

FAQ.Error.cls
KB.Topic.cls
FAQ.FAQError.cls

------------------------------------------------------------------------------------
修正ID		HS006

日付		2014/7/25		

内容

製品種別のマクロ化

修正内容

$$$GENERAL
$$$CACHE
$$$ENSEMBLE

修正モジュール

KB.Topic.cls
FAQ.FAQTopicSearchBodyTemplate.cls
FAQ.inc

------------------------------------------------------------------------------------
修正ID		HS007

日付		2014/7/28		

内容

トピックの相互リンクのマイナーバグフィックス

修正内容


修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------
修正ID		HS008

日付		2014/7/28		

内容

safariで初回表示時にhypereventエラーが発生する問題を修正

修正内容

chromeと動きを合わせることで解決

修正モジュール

FAQ.FAQTopicSearch.cls

------------------------------------------------------------------------------------
修正ID		HS009

日付		2014/7/28		

内容

インストーラの実装

修正内容

%Installer　Manifestを使った実装

修正モジュール

FAQ.FAQTopicSearch.cls

------------------------------------------------------------------------------------
修正ID		HS010

日付		2014/7/28		

内容

UnitTestの実装

修正内容

%UnitTestフレームワークを使った実装

修正モジュール

FAQ.Test.cls
FAQ.UnitTests.cls

------------------------------------------------------------------------------------
修正ID		HS011

日付		2014/8/18		

内容

全文検索方式の変更

修正内容

n-grum式からmecabによる分かち書き方式に変更

修正モジュール

KB.Topic.cls
KB.Text.cls
Text.MecabJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS012

日付		2014/8/18		

内容

相互リンクの削除時の相手先リンクの削除

修正内容

相互リンクを％OnAfterSave()の所で行っていたが、そうすると、削除時に循環処理が発生してしまい
うまくいかないことが判明したので、complete.cspで最終チェックするように変更

修正モジュール

KB.Topic.cls
complete.csp

------------------------------------------------------------------------------------
修正ID		HS013

日付		2014/8/18		

内容

バージョン番号の導入

修正内容

新バージョンをリリース毎に更新するようにした

修正モジュール

KB.Utility.cls
howto.csp
howtoforeditors.csp

------------------------------------------------------------------------------------
修正ID		HS014

日付		2014/8/18		

内容

詳細表示の際に製品区分がわかるように製品アイコンをタイトルの前に表示

修正内容


修正モジュール

result.csp
InterSystemsLogo.gif
cachecube.png
ensemblecube.png

------------------------------------------------------------------------------------
修正ID		HS015

日付		2014/8/21		

内容

新規作成、編集画面内でタブが使えない

修正内容

インターネットで入手したjavascriptを追加

修正モジュール

new.csp
edit.csp

------------------------------------------------------------------------------------
修正ID		HS016

日付		2014/8/21		

内容

新規作成画面でFFおよびIEでスクロールが出ない


修正内容

window.openの際にscrollbars=1を追加

scrollbars=yesではIE,FFで動作しなかった

修正モジュール

howtoforeditors.csp

------------------------------------------------------------------------------------
修正ID		HS017

日付		2014/8/21		

内容

タブを切り替えるとIE,FFでは再度クエリーが実行されて初期化されてしまう。


修正内容


OnresizeHandlerでzenPage.setTabSize()を実行するように変更

tabGroupのonShowTabメソッドでは実行しないように変更

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls

------------------------------------------------------------------------------------
修正ID		HS018

日付		2014/8/21		

内容

編集用タグの大文字小文字の制限を緩和

修正内容

UPPERに変換後、チェック

修正モジュール

result.csp

------------------------------------------------------------------------------------
修正ID		HS019

日付		2014/8/25		

内容

resizeの際に前回の検索条件がリセットされる問題への対応

修正内容

調査によれば、最近のブラウザはIEも含めてsetBodySize()がちゃんと効くようである。

IEの古いバージョンに関しては不確かなため、IE9より前のものは、旧来の動きとする

修正モジュール

FAQ.FAQTopicSearch.cls

------------------------------------------------------------------------------------
修正ID		HS020

日付		2014/8/26		

内容

検索結果の表示をTOPに変更

修正内容

検索ペインのvgroupのvalign=topを設定する

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls
継承しているクラスのリコンパイル必要

------------------------------------------------------------------------------------
修正ID		HS021

日付		2014/10/07		

内容

一般タブに全検索のチェックボックスを表示しないように変更

修正内容

%OnAfterCreatePageにて全検索のチェックボックスのenclosingStypeにDisplay:noneを設定

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls
継承しているクラスのリコンパイル必要


------------------------------------------------------------------------------------
修正ID		HS022

日付		2014/10/07		

内容

初期画面上の操作ヘルプに全検索のチェックボックスの説明を追加

修正内容

説明テキストの追加

修正モジュール

howto.csp


------------------------------------------------------------------------------------
修正ID		HS023

日付		2014/12/02		

内容

初期データ生成処理に抜けあり

修正内容

masterSetup()に

do ##class(KB.Product).Init()を追加

修正モジュール

KB.Setup.cls


------------------------------------------------------------------------------------
修正ID		HS024

日付		2014/12/02		

内容

初期データ生成処理に抜けあり

修正内容

setConfigParams()に

do ##class(KB.Config).setFileNameAttached()を追加

Installerに

##class(KB.Setup).setConfigParams()の呼出しを追加


修正モジュール

KB.Setup.cls
FAQ.Installer.cls


------------------------------------------------------------------------------------
修正ID		HS025

日付		2014/12/09		

内容

Typo


修正内容

##class(KB.Setup).setConfigParams()の呼出しを追加


修正モジュール

FAQ.Installer.cls

------------------------------------------------------------------------------------
修正ID		HS026

日付		2015/02/25		

内容

カタカナ語の単語分解がmecabでは想定した動きになっていないので、予め登録したカタカナ単語
に関して分解後、mecabに渡すように変更
・に関しても事前にスペースに変更


修正内容

^KatakanaWordsというグローバルを生成
第一ノードにカタカナの単語が入る


修正モジュール

Text.MecabaJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS027

日付		2015/02/25		

内容

HS026の実装に際し、カタカナ語がどの様に分解されているかを調べるクラスメソッドを追加


修正内容

FindKatakanaKeywordsという名前のクラスメソッドを追加


修正モジュール

KB.Utility


------------------------------------------------------------------------------------
修正ID		HS028

日付		2015/02/25		

内容

HS026の変更に伴い、インストーラーの変更が必要になった


修正内容

カタカナ語辞書グローバルのインストール

修正モジュール

FAQ.Installer


------------------------------------------------------------------------------------
修正ID		HS029

日付		2015/03/19		

内容

HS026の処理効率改善
検索キーワードを解析する際に、辞書登録されたカタカナ語が含まれるかどうか確認するように変更


修正内容

SpritKatakanaKeyWordという名前のクラスメソッドを追加


修正モジュール

Text.MecabaJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS030

日付		2015/03/19		

内容

HS026,HS029に関連するunittestの実装


修正内容

TestFindKatakanaWord、TestSpritKatakanaKeyWordという名前のクラスメソッドを追加


修正モジュール

FAQ.UnitTests.cls

------------------------------------------------------------------------------------
修正ID		HS031

日付		2015/04/13		

内容

HS029のバグ修正



修正内容

登録済みカタカナの逐次変換機能が動作していなかった。


修正モジュール

Text.MecabaJapanese2.cls


------------------------------------------------------------------------------------
修正ID		HS032

日付		2015/04/14		

内容

UsersVoiceの本番環境setup(CreateUsersVoice)にバグがあり、UsersVoiceとTopic情報に不整合が発生した。

Install時に行うのではなく、参照時に存在しない場合にUsersVoiceを作成するように変更する。


修正内容

InstallerからCreateUsersVoiceの呼出し処理を削除
UsersVoiceの更新時にUsersVoiceが存在しなければ、新規インスタンスを生成する。


修正モジュール

FAQ.Installer.cls
result.CSP
KB.Utility.cls（使わないので修正の必要がないが、CreateUsersVoiceのバグもついでに修正）


------------------------------------------------------------------------------------
修正ID		HS033

日付		2015/06/03		

内容

Ensembleのタブではデフォルトでコアテクノロジの内容も含めて検索するように仕様変更


修正内容

チェックボックスのテキストを全検索からコアテクノロジを含むに変更
Cacheタブ上からそのチェックボックスを見えないように変更
Ensembleタブ上ではそのチェックボックスのデフォルトを真にセット
%pageの対応するプロパティもページ作成後に真にセット

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls
howto.CSP

------------------------------------------------------------------------------------
修正ID		HS034

日付		2015/06/24		

内容

HS033の変更によるバグ修正
一般、Cacheタブ上で再度検索を実施すると全てのものが検索対象となってしまう。


修正内容

一般、Cacheタブ上ではそのチェックボックスのデフォルトを偽にセット


修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls

------------------------------------------------------------------------------------
修正ID		HS035

日付		2017/01/26		

内容

検索条件の指定で月が14か月分選択可能となっている

および非活動ユーザー名chika,Uematsuを削除


修正内容

ループ回数を14から12に変更


修正モジュール


history.csp

------------------------------------------------------------------------------------
修正ID		HS036

日付		2017/02/20		

内容

全文検索のインデックス生成方法をMecabの形態素解析に基づく分かち書きからiKnowのiFindを使う方法に変更

修正内容

以下のようなクエリー構文に変更

select ID,Title,Description from KB.Topic where %ID %FIND search_index(


修正モジュール

FAQTopicQueryTemplate.cls
FAQTopicSearchBodyTemplate

------------------------------------------------------------------------------------
修正ID		HS037

日付			2017/02/21

内容

　ソースの管理をAtelierに変更するに伴い、UDL形式のクラス単位でのソースロード方式に変更
　iFindに変更したため、インストラー上でmecab関連のセットアップが不要になる

以下のインストーラー処理を削除

<If Condition='$L("${KatakanaWordsFileName}")>0'>
<Invoke Class="%SYSTEM.OBJ" Method="Load" CheckStatus="0" Return="RetVal"> 
    <Arg Value="${KatakanaWordsFileName}"/>
</Invoke>
</If>
<Invoke Class="KB.Text" Method="ExcludeCommonTerms" CheckStatus="0" Return="RetVal"> 
    <Arg Value="100"/>
</Invoke>

修正モジュール

FAQ.Installer.cls
KB.Setup.cls
KB.Config.cls

------------------------------------------------------------------------------------
修正ID		HS038

日付			2017/03/16

内容

ロケールをjpuwに強制的にする。
CSPファイルをUTF8でロードするために必要

修正モジュール

FAQ.Installer.cls


------------------------------------------------------------------------------------

修正ID		HS039

日付			2017/03/16

内容

Ｍｅcab関連のユニットテストを削除
検索手法をiFindに変更したため

修正モジュール

FAQ.UnitTest.cls

------------------------------------------------------------------------------------

修正ID		HS040

日付			2017/03/16

内容

クラスをUDL形式でインストールするように変更した結果、イメージファイルやスタイルシートはロード対象外となったため、別途それらのファイル用のインポート用XMLファイルを作成
（初期設定時のみ使用）

修正モジュール

faqimages.xml

------------------------------------------------------------------------------------

修正ID		HS041

日付			2017/03/16

内容

SQLクエリのプレースホルダーの指定で'を除く

以前のバージョンではこれでも動作したが、最近のバージョンでは動作しなくなった。

修正モジュール

FAQTopicQueryTemplate.cls

------------------------------------------------------------------------------------

修正ID		HS042

日付			2017/03/16

内容

インストーラに添付ファイルのコピー処理を追加

修正モジュール

FAQ.Installer.cls
KB.Setup.cls

------------------------------------------------------------------------------------

修正ID		HS043

日付			2017/06/02

内容

開発環境と実行環境のOSが異なることによるCSPファイル名の大文字小文字に関連する不整合を解消するため、ファイル名の拡張子を全て小文字に統一する。

修正モジュール

FAQ.FAQTopicSearch.cls
FAQ.FAQTopicSearchBodyTemplate.cls
FAQ.FAQTopicSearchTest.csp
complete.csp
edit.csp
history.csp
howto.csp
howtoforexitors.csp
new.csp
result.csp

------------------------------------------------------------------------------------

修正ID		HS044

日付			2017/06/23

内容

urlの参照が長くて行が分かれる場合のAタグ処理が行われない問題を修正

修正モジュール

result.csp
kb.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS045

日付			2017/07/03

内容

関連トピックの参照の際にその関連トピックが公開可の状態の場合のみ表示するよう変更

修正モジュール

result.csp


------------------------------------------------------------------------------------

修正ID		HS046

日付			2017/07/03

内容

refleshの際に遷移するページ指定にあやまり（存在しないcspページ）があったので、修正

修正モジュール

howto.csp
howtoforeditors.csp

------------------------------------------------------------------------------------

修正ID		HS047

日付			2017/07/18

内容

niceditを組み込むことで、操作イメージ等のデータを表示可能にした

修正モジュール

complete.csp
new.csp
edit.csp

------------------------------------------------------------------------------------

修正ID		HS048

日付			2017/07/18

内容

製品別にタブを設けるのをやめてすべて一つのタブに集約
ただし旧インタフェースはそのまま残す
一般的質問のTopicIDも通常のIDに戻す。

修正モジュール

FAQ.inc
FAQ.FAQTopicSearch2.cls（新規追加）
FAQ.FAQTopicSearchBodyAll.cls
FAQ.FAQTopicSearchBodyTemplate.cls
FAQ.FAQTopicSearchBodyCache.cls(コンパイルのみ)
FAQ.FAQTopicSearchBodyEnsemble.cls(コンパイルのみ)
FAQ.FAQTopicSearchBodyGeneral.cls(コンパイルのみ)

------------------------------------------------------------------------------------

修正ID		HS049

日付			2017/07/20

内容

既存のレコードに＜COMMAND>や<URL>およびｃｒｌｆがあるとNicEditの動作に支障があるため、ロード時にcrlfは<br>、<COMMAND>などの<>はHTMLエスケープする

修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------

修正ID		HS050

日付			2017/07/20

内容

<COMMAND>行の表示の際に余分な<br>の出力をなくす

修正モジュール

result.csp

------------------------------------------------------------------------------------

修正ID		HS051

日付			2017/07/20

内容

製品バージョンを2020.2まで追加

修正モジュール

KB.Version.cls

------------------------------------------------------------------------------------

修正ID		HS052

日付			2017/07/20

内容

製品にHealtShareを追加

製品IDを追加しただけで表示等の対応はまだ未実装

修正モジュール

KB.Product.cls
FAQ.inc

------------------------------------------------------------------------------------

修正ID		HS053

日付			2017/08/03

内容

copyDownloadFiles内で変数名に間違いがある

sourceDownLoadDir

正しくはsourceDownloadDir

修正モジュール

KB.Setup.cls

------------------------------------------------------------------------------------

修正ID		HS054

日付			2017/08/29

内容

最初に表示するページを操作説明ページではなく検索ページに変更

修正モジュール

FAQ.FAQTopicSearch2.cls

------------------------------------------------------------------------------------

修正ID		HS055

日付			2017/08/29

内容

一般的質問は、デフォルトでは検索対象にしないように変更

修正モジュール

FAQ.FAQTopicSearchBodyTemplate.cls

------------------------------------------------------------------------------------

修正ID		HS056

日付			2017/10/12

内容

HS038を元に戻す。
AtelierがCSPファイルをCSPディレクトリに書き込む際にロケールに合わせて適切なエンコーディングで書くようになっているため。
Windowsの場合には標準ロケールでは、SJISとなり問題ない

修正モジュール

FAQ.Installer.cls

------------------------------------------------------------------------------------

修正ID		HS057

日付			2017/12/12

内容

NicEditにはソースコードを矩形領域として保存する機能がないため、Ckeditorに変更
unix系のイメージアップロードのためには、該当ディレクトリーのファイル書き込みのパーミッションが必要

修正モジュール

new.csp
edit.csp
result.csp
complete.csp
imageupload.csp
kb.topic

------------------------------------------------------------------------------------

修正ID		HS058

日付			2017/12/14

内容

TopPageの戻り先をFAQ.FAQTopicSearch2.clsに変更

修正モジュール

FAQApp.cls

------------------------------------------------------------------------------------

修正ID		HS059

日付			2017/12/14

内容

検索結果詳細ページの戻るリンクを削除
（ポップアップウィンドウで検索画面に戻っても意味がないため）

修正モジュール

result.csp

------------------------------------------------------------------------------------

修正ID		HS060

日付			2017/12/25

内容

インストーラーにトピック表示用にアップロードしたイメージをコピーする処理を追加

修正モジュール

FAQ.Installer.cls
KB.Setup.cls

------------------------------------------------------------------------------------

修正ID		HS061

日付			2018/2/19

内容

プロダクトにHealthShareとIRIS Data Platformを追加

修正モジュール

FAQ.inc
KB.Product
KB.Utility
FAQ.TopicSearchTemplate.cls
FAQ.TopicSearchBodyAll.cls(Compileのみ)

------------------------------------------------------------------------------------

修正ID		HS062

日付			2018/2/20

内容

トピックのコンテンツ表示の際に余分な<br />を表示させないように変更

修正モジュール

result.csp
KB.Utility

------------------------------------------------------------------------------------

修正ID		HS063

日付			2018/2/21

内容

Atelierで管理しているcspファイルはBOMなしのUTF8でファイルが作成される
cspは読み込み時にBOM付のものだけUnicode判定を行うので、BOMなしのcspファイルをBOM付に変換するメソッドを追加した

修正モジュール

KB.Utility

------------------------------------------------------------------------------------

修正ID		HS064

日付			2018/2/21

内容

cspファイルにBOMを付加する処理をインストーラーに追加

修正モジュール

FAQ.Installer.cls
KB.Setup.cls

------------------------------------------------------------------------------------

修正ID		HS065

日付			2018/2/28

内容

CKEditorで内容にcrlfが含まれる場合に余分な<br>や<br />が付加される問題について応急処置
挙動にまだ不明点があるがとりあえず応急処置を実施

修正モジュール

KB.Topic.cls

------------------------------------------------------------------------------------

修正ID		HS066

日付			2018/3/1

内容

関連トピックリストに重複があった場合、重複分を取り除く処理を追加

修正モジュール

KB.Topic.cls
KB.Utility.cls
complete.csp

------------------------------------------------------------------------------------

修正ID		HS067

日付			2018/3/1

内容

関連トピックリストに存在しないトピックがあった場合にエラーメッセージを表示し、入力をクリアしていたが、そのままにするように変更した

修正モジュール

new.csp
edit.csp

------------------------------------------------------------------------------------

修正ID		HS068

日付			2018/3/1

内容

HS065の修正版

crlfを取り除く処理をjavascript側で行う
発生元に近い所で行うほうが何かと良いという判断
元々JavaScript側で実装しようとしていたが、うまくいかなかった。
その原因が判明したため


修正モジュール

new.csp
edit.csp
KB.Topic.cls
KB.Utiility.cls

------------------------------------------------------------------------------------

修正ID		HS069

日付			2018/3/1

内容

関連トピックリストに自分自身のトピックIDがある場合には取り除く

修正モジュール

new.csp
edit.csp
KB.Utiility.cls

------------------------------------------------------------------------------------

修正ID		HS070

日付			2018/3/12

内容

検索文字列の最後が(または)の場合に検索エラーとなる

修正モジュール

FAQTopicSearchBodyTemplate.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS071

日付			2018/3/12

内容

トピックの内容に<script xxx >が含まれると編集画面に遷移できない問題に対応

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS072

日付			2018/3/15

内容

トピックの内容に<Command>タグ内に<>で囲まれたタグがあると表示がおかしくなる問題に対応

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS073

日付			2018/3/26

内容

HS071の追加修正
行に複数存在する場合の対応を追加

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS074

日付			2018/3/27

内容

HS072の追加修正
行に複数存在する場合の対応を追加

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS075

日付			2018/3/27

内容

HS065の追加修正

旧<COMMAND>仕様のトピックを新エディター形式に書き換えたため、不要となる処理を削除

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS076

日付			2018/3/28

内容


利用方法のページが旧製品別タブ形式の記載になっていたので、チェックボックスに変わったことを説明するように変更した。

修正モジュール

howto.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS077

日付			2018/3/28

内容


ロードの際、KB.Topicクラスのコンパイルでエラーが出るので、再度コンパイルする

修正モジュール

FAQ.Installer.cls


------------------------------------------------------------------------------------

修正ID		HS078

日付			2018/5/14

内容


UNIX系のシステムでインストラーのファイルコピー(images,downloads)が正しくない問題を修正

修正モジュール

KB.Setup.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS079

日付			2018/5/14

内容


トピック内のイメージコンテンツのurlが作成元の環境に依存している問題に対応

修正モジュール

KB.Setup.cls
KB.Topic.cls
KB.Utility.cls
FAQ.Installer.cls

------------------------------------------------------------------------------------

修正ID		HS080

日付			2018/5/15

内容


result.cspのスタイルシートの指定を微調整　
　HREF="style.css?15"
 -->
　HREF="style.css"

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS081

日付			2018/5/25

内容


エラーページのリンク先をFAQ.FAQApp.clsに変更

修正モジュール

FAQ.FAQError.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS082

日付			2018/5/25

内容


FAQ.TopicSearchBodyCache.clsなど直接ブックマークされている場合にFAQ.FAQAｐｐ.clsに飛ぶように変更

修正モジュール

FAQ.TopicSearchBodyCache.cls
FAQ.TopicSearchBodyEnsemble.cls
FAQ.TopicSearchBodyGeneral.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS083

日付			2018/5/29

内容


結果ページをSNS等にコピーする際にサムネール表示できるようにmetaデータを追加
Open Graph Protocolによる記述

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS084

日付			2018/7/26

内容


TopicIdを直接指定して結果ページを表示した際にFAQトップページへの戻りのリンクを追加する

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS085

日付			2018/7/30

内容


HealthShareとIRISのトピック用アイコン表示処理を追加

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS086

日付			2018/7/30

内容


REQUEST_URI　cgi環境変数はIISでは存在しないため、取得方法をCgiEnvsからGetCgiEnvに変更
従ってIIS環境ではこの機能は動作しないが、本番環境はApacheなので、とりあえず問題なし

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS087

日付			2018/8/20

内容


FAQ.TopicSearch.clsが直接ブックマークされている場合にFAQ.FAQAｐｐ.clsに飛ぶように変更

修正モジュール

FAQ.TopicSearch.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS088

日付			2018/9/28

内容


トピック編集権限を持っているユーザーに対する検索リストのタイトル表示で削除済のものを赤字で表示するように変更

修正モジュール

FAQ.TopicSearchBodyTemplate.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS089

日付			2018/10/09

内容

検索条件から製品を外す（製品オプションボタンを削除）
結果ページに該当製品の項目を追加

修正モジュール

FAQ.TopicSearchBodyTemplate.cls
FAQ.TopicSearchBodyAll.cls(コンパイル必要)
KB.Utility.cls
result.csp
style.css
KB.Product.cls
FAQ.inc
howto.csp

------------------------------------------------------------------------------------

修正ID		HS090

日付			2018/10/10

内容

正式なエントリーポイント以外からアクセスした場合には、将来的に使えなくなる旨を伝えるとともに正式ポイントにリダイレクトするように変更

修正モジュール

FAQ.TopicSearch.cls
FAQ.TopicSearchBodyCache.clｓ
FAQ.TopicSearchBodyGeneral.clｓ
FAQ.TopicSearchBodyEnsemble.clｓ
KB.Utility.cls
transfer.csp

------------------------------------------------------------------------------------

修正ID		HS091

日付			2018/10/15

内容

Productの組み合わせを柔軟に表現できるようにProductIdを追加
プロダクトの種類を追加
　　('HealthShare/IRIS',16))  //HealthShare IRIS based
　　('旧データプラットフォーム共通',3))  //Caché & Ensemble
　　('旧データプラットフォーム共通(HealthShare)',7))  //Caché & Ensemble & HealthShare
　　('インターオペラビリティ共通',10))  //Ensemble & IRIS
　　('インターオペラビリティ共通(HealthShare)',14))  //Ensemble & IRIS & HealthShare
　　('データプラットフォーム共通',15))  //Caché & Ensemble & HealthShare & IRIS
　　('新インターオペラビリティ共通',24))  //IRIS & HealthShare IRIS based

修正モジュール

KB.Product.cls
FAQ.inc
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS092

日付			2018/11/05

内容

HS083の修正ではサムネールが意図したとおり反映されない問題に対処

修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS093

日付			2018/11/30

内容

HS089の修正で製品名の表示が小さすぎる問題を解消

修正モジュール

style.css
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS094

日付			2018/12/06

内容

HS091のカテゴリーを調整
表示製品名の変更など

	&SQL(insert into KB.Product (ProductName,ProductId) values ('一般',1024))
	&SQL(insert into KB.Product (ProductName,ProductId) values ('Caché',1))
	&SQL(insert into KB.Product (ProductName,ProductId) values ('Ensemble',2))
	&SQL(insert into KB.Product (ProductName,ProductId) values ('HealthShare',4))
	&SQL(insert into KB.Product (ProductName,ProductId) values ('IRIS Data Platform',8))
	&SQL(insert into KB.Product (ProductName,ProductId) values ('HealthShare/IRIS Based',16)) //Including IRIS for Health
	&SQL(insert into KB.Product (ProductName,ProductId) values ('旧データプラットフォーム共通',3))  //Caché & Ensemble
	&SQL(insert into KB.Product (ProductName,ProductId) values ('旧インターオペラビリティ共通(HealthShare)',6))  //Ensemble & HealthShare/Caché Based
	&SQL(insert into KB.Product (ProductName,ProductId) values ('旧データプラットフォーム共通(HealthShare)',7))  //Caché & Ensemble & HealthShare/Caché Based
	&SQL(insert into KB.Product (ProductName,ProductId) values ('インターオペラビリティ共通',10))  //Ensemble & IRIS
	&SQL(insert into KB.Product (ProductName,ProductId) values ('インターオペラビリティ共通(Ensemble + HealthShare/Caché Based + IRIS)',14))  //Ensemble & HealthShare/Caché Based + IRIS
	&SQL(insert into KB.Product (ProductName,ProductId) values ('データプラットフォーム共通',15))  //Caché & Ensemble & HealthShare & IRIS
	&SQL(insert into KB.Product (ProductName,ProductId) values ('インターオペラビリティ/Healthcare共通',22))  //Ensemble & HealthShare & IRIS for Health & HealthShare/IRIS Based
	&SQL(insert into KB.Product (ProductName,ProductId) values ('新インターオペラビリティ共通',24))  //IRIS & HealthShare IRIS based & IRIS for Health
	&SQL(insert into KB.Product (ProductName,ProductId) values ('インターオペラビリティ共通(HealthShare)',30))  //Ensemble & IRIS & HealthShare & IRIS for Health
	&SQL(insert into KB.Product (ProductName,ProductId) values ('データプラットフォーム共通(Health)',31))  //Caché & Ensemble & HealthShare & IRIS & HealthShare/IRIS Based & IRIS for Health


修正モジュール

FAQ.inc
result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS095

日付			2018/12/11

内容

製品機能（Facility）の内容を最新にアップデート

修正モジュール

Facility.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS096

日付			2018/12/11

内容

HS091の修正に伴い、Productが一般的な質問の場合、判定条件を変更する必要があった

修正モジュール

Topic.cls
KB.Utility.cls
------------------------------------------------------------------------------------

修正ID		HS097

日付			2019/1/29

内容

Topicをコピーする機能を追加

CopyFromTopics(pTopicIdList As %List, Output pNewTopicIdList As %List) As %Status

修正モジュール

Topic.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS098

日付			2019/1/30

内容

IRISリリースに伴い、ファシリティ（機能）、プラットフォームなどのアイテムを調整


修正モジュール

KB.Facility.cls
KB.Platform.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS099

日付			2019/2/13

内容

Topicクラスのいくつかのプロパティを更新するAPIを用意した

ClassMethod UpdatePropertyOfMultipleTopics(pTopicIdPropertyOBJ As %String) As %Status
     //TopicId, PropertyペアのArrayを入力とし、該当するTopicのPropertyを更新する
     // Property = [Product,Category,Facility,Completed,Visible,DeleteFlg]

修正モジュール

KB.Topic.ｃｌｓ
FAQ.UnitTests.cls
FAQ.Test.cls
RsetAPI.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS100

日付			2019/4/2

内容

全Topic内のurlの妥当性を検証するメソッドを追加

ClassMethod URLsExistingTest() As %Status

正しく動作するためには、管理ポータルでSSL/TLS構成で、FAQSSLという名前の構成を作成する必要がある。
（SSL/TLS構成はデフォルト設定でOK）

修正モジュール

KB.Utility.cls
FAQ.Tools.cls

------------------------------------------------------------------------------------

修正ID		HS101

日付			2019/4/2

内容

全Topic内の特定の文字列を置換するメソッドを追加

ClassMethod ReplaceTextInTopics(pTargetText As %String, pReplaceText As %String) As %Status

修正モジュール

KB.Utility.cls
FAQ.Tools.cls

------------------------------------------------------------------------------------

修正ID		HS102

日付			2019/4/24

内容

ダウンロードファイル、イメージファイルのコピー方法の見直し
（$zf(-1)をやめる）


修正モジュール

KB.Utility.cls
FAQ.Installer.cls
KB.Setup.cls

------------------------------------------------------------------------------------

修正ID		HS103

日付			2019/6/03

内容

HS092の修正（微調整）
サムネールのイメージが大きすぎるのを小さくする



修正モジュール

KB.Utility.cls
result.csp
CompanyLogo-Small.png

------------------------------------------------------------------------------------

修正ID		HS104

日付			2019/6/10

内容

新規トピックの登録時に、閉じるボタンの代わりに戻るページが表示される問題を修正



修正モジュール

KB.Utility.cls
result.csp

------------------------------------------------------------------------------------

修正ID		HS105

日付			2019/9/12

内容

トピック詳細表示のウィンドウサイズを閉じるボタンが表示されるように調整（600->800）



修正モジュール

FAQ.TopicSearchBodyTemplate.cls
FAQ.TopicSearchBodyAll.cls(クラスコンパイルのみ)
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS106

日付			2020/4/30

内容

InterSystems logoの変更


修正モジュール

FAQ.TopicSearch2.cls
KB.Utility.cls
result.csp

------------------------------------------------------------------------------------

修正ID		HS107

日付			2020/10/29

内容

トピックNoが存在しない場合に表示されるエラーページのトップページの戻りのリンクが古い


修正モジュール

FAQ.TopicNotFound.cls
KB.Utility.cls
result.csp

------------------------------------------------------------------------------------

修正ID		HS108

日付			2021/03/10

内容

不正なurlだけを表示するverboseフラグをパラメータとして追加


修正モジュール

FAQ.Tools.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS109

日付			2021/06/8

内容

結果ページを表示する前にunescapeHTML()処理を行わないように変更
（そうしないと<>が表示できない問題があった）


修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS110

日付			2022/2/7

内容

DC(Developer Community)に同じ内容の記事が登録されている場合には、強制的にそのページを表示する。
（FAQEditorやFAQAdministratorのロールがある場合には、FAQ上のトピックを表示、編集できるようにする)


修正モジュール

KB.Topic.cls
result.csp
new.csp
edit.csp
howto.csp
FAQ.FAQTopicSearchTemplate.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS111

日付			2022/2/16

内容

Productの選択リストの表示メッセージが難しく、どのプロダクトを選択したかがわかりにくいために表現方法を変更した。


修正モジュール

FAQ.inc
KB.Product.cls
result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS112

日付			2023/4/27

内容

Versionに2023.1を追加


修正モジュール

KB.Version.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS113

日付			2023/5/27

内容

Facilityに最新データを追加


修正モジュール

KB.Facility.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS114

日付			2023/11/08

内容

React版UIのための修正


修正モジュール

KB.Config.cls
KB.Setup.cls
KB.Utility.cls
FAQ.RestAPI.cls

------------------------------------------------------------------------------------

修正ID		HS115

日付			2024/05/07

内容

IRIS製品バージョン更新
機能項目追加（Vector Search）


修正モジュール

KB.Version.cls
KB.Facility.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS116

日付			2024/05/09

内容

検索文字列にNOTやAND、ORが含まれるとSQLエラーとなる問題に対応


修正モジュール

FAQ.FAQTopicSearchTemplate.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS117

日付			2024/06/05

内容

ID検索の値として全角の数字指定もできるように変更


修正モジュール

FAQ.FAQTopicSearchTemplate.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS118

日付			2024/07/10

内容

CKEDITORがセキュリティアラートのメッセージを出力するの防ぐ


修正モジュール

edit.csp
new.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS119

日付			2024/07/31

内容

CKEDITORにCodeSnippetプラグイン追加


修正モジュール

edit.csp
new.csp
result.csp
intersystems.css
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS120

日付			2024/08/02

内容

CKEDITORのバージョンを22.1にバージョンアップすることでファイルのアップロード処理がうまくいかない問題を修正


修正モジュール

edit.csp
new.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS121

日付			2024/08/05

内容

CodeSnippetでプログラミング言語名を表示する


修正モジュール

result.csp
KB.Topic.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS122

日付			2024/09/06

内容

検索表示画面の関連トピックの表示方法の調整
関連トピックが複数ある場合の表示ずれを解消


修正モジュール

result.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS123

日付			2024/11/22

内容

Reactからのアクセスの際にhttpとhttpsを自動区別する方法を追加


修正モジュール

KB.Config.cls
FAQ.RestAPI.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS124

日付			2025/05/07

内容

IRIS バージョンを更新(最新2025.1)


修正モジュール

KB.Version.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS125

日付			2025/05/30

内容

検索文字に< > ( ) [ ] { }が含まれるとSQLエラーとなる問題を修正


修正モジュール

FAQ.FAQTopicSearchTemplate.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS126

日付			2025/06/09

内容

ckeditorの不必要なメニュー項目の非表示、コードスニペットのLanguage追加


修正モジュール

New.csp
Edit.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS127

日付			2025/08/27

内容

Facilityにベクトル検索追加
Versionに2025.2追加

修正モジュール

Facility.cls
Version.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS128

日付			2025/08/27

内容

ckeditorのメニューをDCになるべく合わせる

修正モジュール

New.csp
Edit.csp
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS129

日付			2025/08/27

内容

codesnippetに関連して余計なタグが増える問題を修正

修正モジュール

KB.Topic.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS130

日付			2025/08/27

内容

Reactインターフェースサポートに関連してRestAPIを整備

修正モジュール

FAQ.RestAPI.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS131

日付			2025/09/01

内容

FAQEditorロールで編集ができなくなる問題を修正

修正モジュール

FAQ.TopicSearch2.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS132

日付			2025/09/02

内容

エラー発生の日時が標準時間になっていたのをJST時間に変更

修正モジュール

FAQ.Error.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS133

日付			2025/09/02

内容

サーバーIPやポート番号の取得を実際のCGI変数で取得するように変更

修正モジュール

FAQ.Topic.cls
KB.Utility.cls

------------------------------------------------------------------------------------

修正ID		HS134

日付			2025/09/16

内容

コードスニペットの言語表示をHover形式に変更

修正モジュール

result.csp
KB.Utility.cls


